@startuml
package game {
+class Game {
    +{static}final int MAX_NUM_DECKS = 4
    -Player firstPlayer
    -Player secondPlayer
    -Field firstPlayerField
    -Field firstPlayerEnemyField
    -Field secondPlayerField
    -Field secondPlayerEnemyField
    -Status status
    -Viewable viewable
    -int numberOfDecks
    -enum Status 

    +Game() 
    +void init() 
    +void play() 
    -void changeGameStatus() 
    -void show() 
    +void setViewable(Viewable viewable) 
}
+class ShowInConsoleStrategy implements Viewable {
    ~StringBuilder display = new StringBuilder()
    +void show(Field field, Field enemyField) 
    -void getRow(int row, Field field) 
    -char getValueOfSign(Cell.Sign sign) 
}
~class ShowInGuiStrategy implements Viewable {
    +void show(Field field, Field enemyField) 
}
~interface Viewable {
    ~void show(Field field, Field enemyField)
}
}
package field {
+class Cell {
    -Sign sign
    +enum Sign 

    +Cell() 
    +void setSign(Sign sign) 
    +Sign getSign() 
}
+class Field {
    +{static}final int WIDTH = 10
    +{static}final int HEIGHT = 10
    -Cell[][] cells
    +enum Answer 

    +Field() 
    -void init() 
    +int countNumberOfDecks() 
    +boolean addShip(Ship ship) 
    +Cell.Sign readFromCell(Point point) 
    +void writeInCell(Point point, Cell.Sign sign) 
    +Answer update(Point point) 
    +void update(Point point, Answer answer) 
    +boolean isSunk() 
    +void markNeighboringCells(Point point, Cell.Sign sign) 
    -boolean isEnoughPlace(List<Point> points) 
    -void markUnavailableCells(List<Point> points) 
}
+class Point {
    -int column
    -int row

    +Point() 
    +Point(int column, int row) 
    +int getColumn() 
    +int getRow() 
    +String toString() 
    +boolean equals(Object o) 
    +int hashCode() 
}
+class Ship {
    ~Random random = new Random()
    -Point from
    -Orientation orientation
    -int length
    -List<Point> points
    +enum Orientation 
    +Ship(int length) 
    +List<Point> getPoints() 
    -void init() 
    -void setOrientation() 
    -void setFrom() 
}
}
package player {
~interface ArrangeShipsBehavior {
    ~void arrangeShips(Field field)
}
+class Computer extends Player {
    +Computer(Field field, Field enemyField) 
}
+class Human extends Player {
    +Human(Field field, Field enemyField) 
}
+class ImprovedRandomShootStrategy implements ShootBehavior {
    -Set<Point> ignoredPoints
    -Player player

    +ImprovedRandomShootStrategy(Player player) 
    +Point shoot() 
}
+abstract class Player {
    #Field field
    #Field enemyField
    #ArrangeShipsBehavior arrangeShipsBehavior
    #ShootBehavior shootBehavior
    #int hitCount
    #Point lastHit

    +Player(Field field, Field enemyField) 
    +void arrangeShips() 
    +Point shoot() 
    +void setArrangeShipsBehavior(ArrangeShipsBehavior arrangeShipsBehavior) 
    +void setShootBehavior(ShootBehavior shootBehavior) 
    +int getHitCount() 
    +void addHitCount() 
    +Point getLastHit() 
    +void setLastHit(Point lastHit) 
}
+class RandomArrangeShipsStrategy implements ArrangeShipsBehavior {

    +void arrangeShips(Field field) 
}
+class RandomShootStrategy implements ShootBehavior {
    +Point shoot() 
}
~interface ShootBehavior {
    ~Point shoot()
}
}
Game o-- Player
Game o-- Field
Game o-- Viewable
ImprovedRandomShootStrategy o-- Player
ImprovedRandomShootStrategy o-- Point
Player o-- ArrangeShipsBehavior
Player o-- ShootBehavior
Player o-- Point
Player o-- Field
@enduml
